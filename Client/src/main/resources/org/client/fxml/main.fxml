<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.ListView?>
<?import java.net.URL?>
<?import javafx.scene.layout.Region?>

<SplitPane dividerPositions="0.2" prefWidth="700" prefHeight="600"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="org.client.controllers.UserController"
           stylesheets="@/org/client/css/chat.css">
    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/>
    </padding>

    <!-- Ð›ÐµÐ²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ -->
    <VBox spacing="10" style="-fx-background-color: transparent;">
        <HBox alignment="CENTER" spacing="5">
            <Button text="Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ‡Ð°Ñ‚" onAction="#createChat"/>
        </HBox>
        <Label text="ÐœÐ¾Ð¸ Ñ‡Ð°Ñ‚Ñ‹" style="-fx-font-weight: bold;"/>

        <padding>
            <Insets right="10"/>
        </padding>

        <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;">
            <VBox fx:id="chatsList" spacing="5" style="-fx-background-color: transparent;"/>
        </ScrollPane>
    </VBox>

    <!-- ÐŸÑ€Ð°Ð²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ -->
    <VBox alignment="CENTER" spacing="20.0" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1">
        <Button fx:id="button" text="Hello!" onAction="#meow"/>

        <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ñ‡Ð°Ñ‚Ð¾Ð¼ -->
        <HBox fx:id="chatControls" alignment="CENTER" spacing="10" visible="false">
            <Region HBox.hgrow="ALWAYS"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label fx:id="chatTitleLabel" text="ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ñ‹ÑˆÐµÐ» Ð¸Ð· Ñ‡Ð°Ñ‚Ð°" styleClass="chat-title" visible="false"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ñ‡Ð°Ñ‚" onAction="#deleteChat" styleClass="danger-button"/>
        </HBox>

        <padding>
            <Insets left="10"/>
        </padding>

        <ScrollPane fitToWidth="true" prefViewportHeight="500" minHeight="400">
            <ListView fx:id="chatListView" styleClass="message-list">
                <stylesheets>
                    <URL value="@/org/client/css/chat.css" />
                </stylesheets>
            </ListView>
        </ScrollPane>

        <HBox fx:id="messageControls" alignment="CENTER" spacing="5" visible="false">
            <TextField fx:id="messageField" promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ" prefWidth="200"/>
            <Button text="ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ" onAction="#sendMessage" minWidth="90"/>
            <Button text="ðŸ“Ž" onAction="#attachFile" minWidth="30" />
            <Label fx:id="fileLabel"/>
        </HBox>

        <Label fx:id="messageLabel"/>

        <HBox alignment="CENTER" spacing="5">
            <Hyperlink fx:id="authLink" text="Ð’Ñ‹Ð¹Ñ‚Ð¸" onAction="#goToAuth"/>
        </HBox>
    </VBox>
</SplitPane>
